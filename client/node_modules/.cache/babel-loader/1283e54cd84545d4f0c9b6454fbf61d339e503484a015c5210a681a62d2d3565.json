{"ast":null,"code":"import axios from\"axios\";import{createContext,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();export const AuthContextProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=useState(JSON.parse(localStorage.getItem(\"user\"))||null);const login=async inputs=>{const res=await axios.post('http://localhost:8000/api/auth/login',inputs,{withCredentials:true});setCurrentUser(res.data);};useEffect(()=>{localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser,login},children:children});};","map":{"version":3,"names":["axios","createContext","useEffect","useState","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","currentUser","setCurrentUser","JSON","parse","localStorage","getItem","login","inputs","res","post","withCredentials","data","setItem","stringify","Provider","value"],"sources":["C:/Users/zaina/OneDrive/Skrivbord/SocialPost-Project/client/src/context/authContext.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\")) || null\r\n  );\r\n\r\n  const login = async (inputs) => {\r\n    const res = await axios.post('http://localhost:8000/api/auth/login', inputs, {\r\n      withCredentials: true,\r\n    });\r\n    setCurrentUser(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(currentUser));\r\n  }, [currentUser]);\r\n\r\n  \r\n  return (\r\n    <AuthContext.Provider value={{ currentUser, login }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,mBAAmB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC9C,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAC5CS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAC9C,CAAC,CAED,KAAM,CAAAC,KAAK,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC9B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAAC,sCAAsC,CAAEF,MAAM,CAAE,CAC3EG,eAAe,CAAE,IACnB,CAAC,CAAC,CACFT,cAAc,CAACO,GAAG,CAACG,IAAI,CAAC,CAC1B,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACdY,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAEV,IAAI,CAACW,SAAS,CAACb,WAAW,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAGjB,mBACEL,IAAA,CAACC,WAAW,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAAEf,WAAW,CAAEM,KAAM,CAAE,CAAAP,QAAA,CACjDA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
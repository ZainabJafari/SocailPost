{"ast":null,"code":"import\"./profile.scss\";import FacebookTwoToneIcon from\"@mui/icons-material/FacebookTwoTone\";import LinkedInIcon from\"@mui/icons-material/LinkedIn\";import InstagramIcon from\"@mui/icons-material/Instagram\";import PinterestIcon from\"@mui/icons-material/Pinterest\";import TwitterIcon from\"@mui/icons-material/Twitter\";import PlaceIcon from\"@mui/icons-material/Place\";import LanguageIcon from\"@mui/icons-material/Language\";import EmailOutlinedIcon from\"@mui/icons-material/EmailOutlined\";import MoreVertIcon from\"@mui/icons-material/MoreVert\";import Posts from\"../../components/posts/Posts\";import{useContext,useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import{usePosts}from\"../../context/PostsContext\";import{AuthContext}from\"../../context/authContext\";import Update from\"../../components/update/Update\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[openUpdate,setOpenUpdate]=useState(false);const userId=parseInt(useLocation().pathname.split('/')[2]);const{currentUser}=useContext(AuthContext);const{user,fetchUser,fetchRelationship,relationship,addRelationship,removeRelationship}=usePosts();useEffect(()=>{fetchUser(userId);fetchRelationship(userId);},[userId]);if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}const handleFollow=()=>{if(relationship.includes(currentUser.id)){removeRelationship(userId);}else{addRelationship(userId);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"images\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/upload/\"+user.coverPic,alt:\"\",className:\"cover\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/upload/\"+user.profilePic,alt:\"\",className:\"profilePic\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"uInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"http://facebook.com\",children:/*#__PURE__*/_jsx(FacebookTwoToneIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://instagram.com\",children:/*#__PURE__*/_jsx(InstagramIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://twitter.com\",children:/*#__PURE__*/_jsx(TwitterIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://linkedin.com\",children:/*#__PURE__*/_jsx(LinkedInIcon,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://pinterest.com\",children:/*#__PURE__*/_jsx(PinterestIcon,{fontSize:\"large\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"span\",{children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(PlaceIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:user.city})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(LanguageIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:user.website||\"N/A\"})]})]}),userId===currentUser.id?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpenUpdate(true),children:\"Update\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleFollow,children:relationship.includes(currentUser.id)?\"Following\":\"Follow\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(EmailOutlinedIcon,{}),/*#__PURE__*/_jsx(MoreVertIcon,{})]})]}),/*#__PURE__*/_jsx(Posts,{userId:userId})]}),openUpdate&&/*#__PURE__*/_jsx(Update,{setOpenUpdate:setOpenUpdate,user:user}),\"  \"]});};export default Profile;","map":{"version":3,"names":["FacebookTwoToneIcon","LinkedInIcon","InstagramIcon","PinterestIcon","TwitterIcon","PlaceIcon","LanguageIcon","EmailOutlinedIcon","MoreVertIcon","Posts","useContext","useEffect","useState","useLocation","usePosts","AuthContext","Update","jsx","_jsx","jsxs","_jsxs","Profile","openUpdate","setOpenUpdate","userId","parseInt","pathname","split","currentUser","user","fetchUser","fetchRelationship","relationship","addRelationship","removeRelationship","children","handleFollow","includes","id","className","src","coverPic","alt","profilePic","href","fontSize","name","city","website","onClick"],"sources":["C:/Users/zaina/OneDrive/Skrivbord/SocialPost-Project/client/src/pages/profile/Profile.jsx"],"sourcesContent":["import \"./profile.scss\";\r\nimport FacebookTwoToneIcon from \"@mui/icons-material/FacebookTwoTone\";\r\nimport LinkedInIcon from \"@mui/icons-material/LinkedIn\";\r\nimport InstagramIcon from \"@mui/icons-material/Instagram\";\r\nimport PinterestIcon from \"@mui/icons-material/Pinterest\";\r\nimport TwitterIcon from \"@mui/icons-material/Twitter\";\r\nimport PlaceIcon from \"@mui/icons-material/Place\";\r\nimport LanguageIcon from \"@mui/icons-material/Language\";\r\nimport EmailOutlinedIcon from \"@mui/icons-material/EmailOutlined\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport Posts from \"../../components/posts/Posts\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { usePosts } from \"../../context/PostsContext\";\r\nimport { AuthContext } from \"../../context/authContext\";\r\nimport Update from \"../../components/update/Update\";\r\n\r\nconst Profile = () => {\r\n\r\n  const [openUpdate, setOpenUpdate] = useState(false)\r\n  const userId = parseInt(useLocation().pathname.split('/')[2]);\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  const { user, fetchUser, fetchRelationship, relationship, addRelationship, removeRelationship } = usePosts();\r\n   \r\n  useEffect(() => {\r\n    fetchUser(userId);\r\n    fetchRelationship(userId);\r\n  }, [userId]);\r\n\r\n  if (!user) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  const handleFollow = () => {\r\n    if (relationship.includes(currentUser.id)) {\r\n      removeRelationship(userId);\r\n    } else {\r\n      addRelationship(userId);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"images\">\r\n        <img src={\"/upload/\"+user.coverPic} alt=\"\" className=\"cover\" />\r\n        <img src={\"/upload/\"+user.profilePic} alt=\"\" className=\"profilePic\" />\r\n      </div>\r\n      <div className=\"profileContainer\">\r\n        <div className=\"uInfo\">\r\n          <div className=\"left\">\r\n            <a href=\"http://facebook.com\">\r\n              <FacebookTwoToneIcon fontSize=\"large\" />\r\n            </a>\r\n            <a href=\"http://instagram.com\">\r\n              <InstagramIcon fontSize=\"large\" />\r\n            </a>\r\n            <a href=\"http://twitter.com\">\r\n              <TwitterIcon fontSize=\"large\" />\r\n            </a>\r\n            <a href=\"http://linkedin.com\">\r\n              <LinkedInIcon fontSize=\"large\" />\r\n            </a>\r\n            <a href=\"http://pinterest.com\">\r\n              <PinterestIcon fontSize=\"large\" />\r\n            </a>\r\n          </div>\r\n          <div className=\"center\">\r\n            <span>{user.name}</span>\r\n            <div className=\"info\">\r\n              <div className=\"item\">\r\n                <PlaceIcon />\r\n                <span>{user.city}</span>\r\n              </div>\r\n              <div className=\"item\">\r\n                <LanguageIcon />\r\n                <span>{user.website || \"N/A\"}</span>\r\n              </div>\r\n            </div>\r\n            {userId === currentUser.id ? (\r\n              <button onClick={() => setOpenUpdate(true)}>Update</button>\r\n            ) : (\r\n              <button onClick={handleFollow}>\r\n                {relationship.includes(currentUser.id) ? \"Following\" : \"Follow\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"right\">\r\n            <EmailOutlinedIcon />\r\n            <MoreVertIcon />\r\n          </div>\r\n        </div>\r\n        <Posts userId={userId} />\r\n      </div>\r\n{  openUpdate && <Update setOpenUpdate={setOpenUpdate} user={user} />}  </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,gBAAgB,CACvB,MAAO,CAAAA,mBAAmB,KAAM,qCAAqC,CACrE,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,MAAO,CAAAC,WAAW,KAAM,6BAA6B,CACrD,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,iBAAiB,KAAM,mCAAmC,CACjE,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,KAAK,KAAM,8BAA8B,CAChD,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,KAAQ,4BAA4B,CACrD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAEpB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAY,MAAM,CAAGC,QAAQ,CAACZ,WAAW,CAAC,CAAC,CAACa,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7D,KAAM,CAAEC,WAAY,CAAC,CAAGlB,UAAU,CAACK,WAAW,CAAC,CAE/C,KAAM,CAAEc,IAAI,CAAEC,SAAS,CAAEC,iBAAiB,CAAEC,YAAY,CAAEC,eAAe,CAAEC,kBAAmB,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAE5GH,SAAS,CAAC,IAAM,CACdmB,SAAS,CAACN,MAAM,CAAC,CACjBO,iBAAiB,CAACP,MAAM,CAAC,CAC3B,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CAEZ,GAAI,CAACK,IAAI,CAAE,CACT,mBAAOX,IAAA,QAAAiB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIJ,YAAY,CAACK,QAAQ,CAACT,WAAW,CAACU,EAAE,CAAC,CAAE,CACzCJ,kBAAkB,CAACV,MAAM,CAAC,CAC5B,CAAC,IAAM,CACLS,eAAe,CAACT,MAAM,CAAC,CACzB,CACF,CAAC,CAED,mBACEJ,KAAA,QAAKmB,SAAS,CAAC,SAAS,CAAAJ,QAAA,eACtBf,KAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAJ,QAAA,eACrBjB,IAAA,QAAKsB,GAAG,CAAE,UAAU,CAACX,IAAI,CAACY,QAAS,CAACC,GAAG,CAAC,EAAE,CAACH,SAAS,CAAC,OAAO,CAAE,CAAC,cAC/DrB,IAAA,QAAKsB,GAAG,CAAE,UAAU,CAACX,IAAI,CAACc,UAAW,CAACD,GAAG,CAAC,EAAE,CAACH,SAAS,CAAC,YAAY,CAAE,CAAC,EACnE,CAAC,cACNnB,KAAA,QAAKmB,SAAS,CAAC,kBAAkB,CAAAJ,QAAA,eAC/Bf,KAAA,QAAKmB,SAAS,CAAC,OAAO,CAAAJ,QAAA,eACpBf,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAJ,QAAA,eACnBjB,IAAA,MAAG0B,IAAI,CAAC,qBAAqB,CAAAT,QAAA,cAC3BjB,IAAA,CAAClB,mBAAmB,EAAC6C,QAAQ,CAAC,OAAO,CAAE,CAAC,CACvC,CAAC,cACJ3B,IAAA,MAAG0B,IAAI,CAAC,sBAAsB,CAAAT,QAAA,cAC5BjB,IAAA,CAAChB,aAAa,EAAC2C,QAAQ,CAAC,OAAO,CAAE,CAAC,CACjC,CAAC,cACJ3B,IAAA,MAAG0B,IAAI,CAAC,oBAAoB,CAAAT,QAAA,cAC1BjB,IAAA,CAACd,WAAW,EAACyC,QAAQ,CAAC,OAAO,CAAE,CAAC,CAC/B,CAAC,cACJ3B,IAAA,MAAG0B,IAAI,CAAC,qBAAqB,CAAAT,QAAA,cAC3BjB,IAAA,CAACjB,YAAY,EAAC4C,QAAQ,CAAC,OAAO,CAAE,CAAC,CAChC,CAAC,cACJ3B,IAAA,MAAG0B,IAAI,CAAC,sBAAsB,CAAAT,QAAA,cAC5BjB,IAAA,CAACf,aAAa,EAAC0C,QAAQ,CAAC,OAAO,CAAE,CAAC,CACjC,CAAC,EACD,CAAC,cACNzB,KAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAJ,QAAA,eACrBjB,IAAA,SAAAiB,QAAA,CAAON,IAAI,CAACiB,IAAI,CAAO,CAAC,cACxB1B,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAJ,QAAA,eACnBf,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAJ,QAAA,eACnBjB,IAAA,CAACb,SAAS,GAAE,CAAC,cACba,IAAA,SAAAiB,QAAA,CAAON,IAAI,CAACkB,IAAI,CAAO,CAAC,EACrB,CAAC,cACN3B,KAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAJ,QAAA,eACnBjB,IAAA,CAACZ,YAAY,GAAE,CAAC,cAChBY,IAAA,SAAAiB,QAAA,CAAON,IAAI,CAACmB,OAAO,EAAI,KAAK,CAAO,CAAC,EACjC,CAAC,EACH,CAAC,CACLxB,MAAM,GAAKI,WAAW,CAACU,EAAE,cACxBpB,IAAA,WAAQ+B,OAAO,CAAEA,CAAA,GAAM1B,aAAa,CAAC,IAAI,CAAE,CAAAY,QAAA,CAAC,QAAM,CAAQ,CAAC,cAE3DjB,IAAA,WAAQ+B,OAAO,CAAEb,YAAa,CAAAD,QAAA,CAC3BH,YAAY,CAACK,QAAQ,CAACT,WAAW,CAACU,EAAE,CAAC,CAAG,WAAW,CAAG,QAAQ,CACzD,CACT,EACE,CAAC,cACNlB,KAAA,QAAKmB,SAAS,CAAC,OAAO,CAAAJ,QAAA,eACpBjB,IAAA,CAACX,iBAAiB,GAAE,CAAC,cACrBW,IAAA,CAACV,YAAY,GAAE,CAAC,EACb,CAAC,EACH,CAAC,cACNU,IAAA,CAACT,KAAK,EAACe,MAAM,CAAEA,MAAO,CAAE,CAAC,EACtB,CAAC,CACTF,UAAU,eAAIJ,IAAA,CAACF,MAAM,EAACO,aAAa,CAAEA,aAAc,CAACM,IAAI,CAAEA,IAAK,CAAE,CAAC,CAAC,IAAE,EAAK,CAAC,CAE9E,CAAC,CAED,cAAe,CAAAR,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}